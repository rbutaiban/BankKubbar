<div
  class="flex w-full justify-between items-center py-4 overflow-x-auto max-w-full"
>
  <div class="right-side">
    <h3 class="text-2xl font-bold">My Transactions</h3>
  </div>
  <!-- <input
    type="text"
    [(ngModel)]="searchTerm"
    placeholder="Search..."
    class="border p-2 rounded w-full mb-4"
  /> -->

  <!-- <ul class="space-y-2">
    <li
      *ngFor="let item of items | search : searchTerm"
      class="p-2 bg-gray-100 rounded"
    >
      {{ item }}
    </li>
  </ul> -->

  <!-- Category Buttons -->
  <div class="flex space-x-4 mb-4">
    <button
      (click)="selectedCategory = 'all'"
      class="px-4 py-2 bg-gray-200 rounded"
    >
      All
    </button>
    <button
      (click)="selectedCategory = 'deposit'"
      class="px-4 py-2 bg-green-200 rounded"
    >
      Deposit
    </button>
    <button
      (click)="selectedCategory = 'withdraw'"
      class="px-4 py-2 bg-red-200 rounded"
    >
      Withdraw
    </button>
    <button
      (click)="selectedCategory = 'transfer'"
      class="px-4 py-2 bg-blue-200 rounded"
    >
      Transfer
    </button>
  </div>

  <!-- Filtered List -->
  <ul class="space-y-2">
    <li
      *ngFor="let item of items | search : selectedCategory"
      class="p-2 bg-gray-100 rounded"
    >
      {{ item | json }}
    </li>
  </ul>

  <div class="left-side">
    <div class="flex gap-2 items-center">
      <app-modal
        [modalId]="'transaction-modal'"
        [modalTitle]="'Add Transaction'"
        [buttonTitle]="'Add Transaction'"
        [buttonVariant]="'fill'"
        (modalClosed)="onModalClosed()"
      >
        <app-transactions-form
          [modalId]="'transaction-modal'"
          (formSubmitted)="onModalClosed()"
        ></app-transactions-form>
      </app-modal>

      <app-modal
        [modalId]="'transfer-modal'"
        [modalTitle]="'Transfer'"
        [buttonTitle]="'Transfer'"
        [buttonVariant]="'outline'"
        (modalClosed)="onModalClosed()"
      >
        <app-transfer-form
          [modalId]="'transfer-modal'"
          (formSubmitted)="onModalClosed()"
        ></app-transfer-form>
      </app-modal>
    </div>
  </div>
</div>

@if (loading) {
<div class="flex justify-center items-center p-8">
  <div
    class="animate-spin rounded-full h-8 w-8 border-2 border-b-2 border-r border-amber-500"
  ></div>
  <span class="ml-2">Loading transactions...</span>
</div>
} @else {
<app-data-table
  class="overflow-x-auto"
  [data]="transactionsData()"
  [headerKeys]="[
    'id',
    'type',
    'amount',
    'from',
    'to',
    'createdAt',
    'updatedAt'
  ]"
>
</app-data-table>
}
